---
tags:
  - gemini
  - uml
---

> [!quote]+ Prompt
> ユースケース図を描くとき、
> 「ログインする」などの多くのユースケースの前提となるユースケースは、
> それを前提とするユースケース全ては&lt;&lt;include&gt;&gt;をそれに対して指す必要があると思うんだけど、
> それを全部図に描き表すと大変なことになるよね。
> そんなときはどうするのが普通？

うんうん、ユースケース図の話だね！「ログインする」みたいに、いろんなユースケースの前提になる処理って、たしかにたくさんあるよね。それを全部`<<include>>`で描いてたら、図がスパゲッティみたいになっちゃうの、めちゃくちゃわかる！😂

INFP-A型の君らしい、システムの構造と表現方法について深く考える質問だね！そういう場合は、いくつか一般的なやり方があるから、一緒に見ていこうか！

---

### **1. そもそも「ログイン」はユースケース図に描かない**

---

「え？！」って思うかもしれないけど、これが一番よくあるパターンかもしれないよ。

- **理由:**
    
    - **暗黙の前提:** 多くのシステムでは、ユーザーはログインして使うのが「当たり前」の前提だよね。「ログインできない」システムの方が特殊なわけで。だから、あえてユースケース図に描かなくても、誰もが「これはログイン後に使う機能だな」と理解できる。
        
    - **図の複雑化防止:** まさに君が懸念している通り、描くと矢印だらけで見るのが大変になっちゃう。
        
    - **システムの主要機能に焦点を当てる:** ユースケース図は、システムの「何ができるか」をハイレベルで表現するもの。「ログイン」はあくまで**システムを使うための準備**であって、システムの**主要な機能**ではないと考えることができるんだ。
        
- **どうやって表現する？**
    
    - ユースケースの**説明文（ユースケース記述）**の中に、「**事前条件**」として「ユーザーはログイン済みであること」のように記載する。これが最も一般的だよ。
        
    - 例えば、「商品をカートに入れる」というユースケースの説明に「事前条件：ユーザーはログイン済みである」と書く、という感じ。
        

---

### **2. 共通の起点となるユースケースを導入する**

---

「ログイン」自体は描かないけど、ログイン後にたどり着く**共通のトップページやダッシュボード**をユースケースとして定義して、そこから他のユースケースが始まるように表現することもあるよ。

- **例:**
    
    - `「ユーザーとしてログイン」` というユースケースは描かない。
        
    - 代わりに `「マイページを表示する」` や `「ダッシュボードを表示する」` といった、ログイン後に最初にアクセスするであろうユースケースを定義する。
        
    - そして、その `「マイページを表示する」` ユースケースから、関連する他のユースケース（例えば「プロフィールを編集する」「注文履歴を見る」など）へ線（関連）を引く。
        

この方法も、ログインの前提を暗黙的にしながら、図をスッキリさせるのに役立つよ。

---

### **3. 限定的な&lt;&lt;include&gt;&gt;の利用、またはパッケージ化**

---

もし、どうしても「ログイン」という概念を図に含めたい、でも全部繋ぐのは嫌だ！という場合は、以下のような工夫もあるよ。

- **重要な関連のみ描く:** 多くのユースケースに共通する前提であっても、特に強調したいユースケースや、システムの核となるユースケースにのみ`<<include>>`の矢印を描く、という割り切り方もある。
    
- **パッケージ化:** UMLには「パッケージ」という概念があって、関連するユースケースをグループ化できるんだ。もしログインが必要なユースケースが特定のグループに偏っているなら、そのグループをまとめて「ログインが必要な機能」といったパッケージに入れ、そのパッケージ全体が「ログイン」ユースケースに依存している、という描き方をすることもある。ただし、これも図が複雑になる可能性があるから、注意が必要だね。
    

---

### まとめ

結局のところ、**「ユースケース図は誰のために、何を伝えるためのものか？」**という視点が一番大切なんだ。

- もし、システム利用における「ログイン」のフロー自体が、そのシステムの特徴（例：二段階認証が必須で、それがシステムの差別化要因になるなど）であるなら、詳細に描く意味はあるかもしれない。
    
- でも、多くの場合は、ユーザーが当たり前に通る「入口」に過ぎないから、**ユースケース図の目的である「システムの機能とユーザーの関わり」をシンプルに伝えるため**には、あえて描かない、あるいは記述に含める、というのが一般的なベストプラクティスだよ。
    

君の言う通り、すべてを正確に図に表そうとすると、かえって情報過多になってしまうから、**「どこまでを表現し、どこからは言葉で補足するか」**というバランス感覚が、いい設計図を描く上で重要になってくるんだ！

どうかな？少しはモヤモヤが解消されたかな？システムの設計って、正解が一つじゃないからこそ、深く考えられて面白いよね！✨