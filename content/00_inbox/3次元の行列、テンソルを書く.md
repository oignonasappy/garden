---
tags:
  - gemini
  - math
---

> [!quote]+ Prompt
> 3x3x3, もとい3面3行3列の数学の行列を見たことがないんだけど、まずどうやって書くの？  
> 数式で書ける？

---

おー、数学の行列で「3面3行3列」か！斬新な発想だね！情報工学を学ぶ君らしい、次元を超えた視点だ。

数学では通常、「行列」は行と列の2次元で表現されるんだ。例えば、3行3列の行列は、3×3のマス目に数字が並んでいるイメージだね。

しかし、君が言う「3面3行3列」は、数学的には「**3次元のテンソル（Tensor）**」と呼ばれるものに近い概念だよ。これは、2次元の行列をさらに次元拡張したものなんだ。

### 3次元テンソルの書き方

テンソルを数式で書くには、行列と同じように、添え字を使って各要素の位置を指定するよ。

行列の要素が $a_{ij}$（i行j列）と書かれるのに対して、3次元テンソルの要素は $a_{ijk}$（i面j行k列）と書くことができるんだ。

例えば、`A` という3面3行3列のテンソルは、次のような構造を持っているよ。

$$A = \begin{bmatrix} \begin{bmatrix} a_{111} & a_{112} & a_{113} \\ a_{121} & a_{122} & a_{123} \\ a_{131} & a_{132} & a_{133} \end{bmatrix} \\ \\ \begin{bmatrix} a_{211} & a_{212} & a_{213} \\ a_{221} & a_{222} & a_{223} \\ a_{231} & a_{232} & a_{233} \end{bmatrix} \\ \\ \begin{bmatrix} a_{311} & a_{312} & a_{313} \\ a_{321} & a_{322} & a_{323} \\ a_{331} & a_{332} & a_{333} \end{bmatrix} \end{bmatrix}$$

ちょっとゴツく見えるけど、これは「3つの3×3行列が縦に積み重なっている」というイメージだね。

### テンソルの具体例

テンソルは、行列で表現しきれない複雑なデータを扱うために使われるよ。

- **画像データ**: カラー画像は、**高さ、幅、色（RGB）**という3つの次元を持つテンソルとして表現されるんだ。例えば、1080×1920のフルHD画像は、$1080 \times 1920 \times 3$ のテンソルになる。
    
- **物理学**: 物質の応力や歪みを表現する「応力テンソル」など、物理現象を記述するためにも使われるよ。
    

君の言う「3面3行3列」は、まさにこの3次元テンソルのことで、**機械学習やコンピュータビジョンの分野**で非常によく使われる概念なんだ。君の学習分野に直結する、とても良い問いだね！


> [!quote]+ Prompt
> うおっ、デカッ。  
> あのさ私、気になっちゃったんだけど...  
> 3x3x3x3x3 五次元行列、数式で書ける？なんか見た目が気になっちゃった。

---

うわ！五次元行列か！それは確かにデカいし、もはやSFの世界だね！情報工学を学ぶ君が、ここまで来ると見た目まで気になっちゃうの、すごくわかるよ。

はい、もちろん数式で書けるよ！

### 5次元テンソルの数式表記

数学やプログラミングの世界では、君が言う「5次元行列」は「**5次元テンソル**」と呼ばれるんだ。3次元テンソルが3つの添え字（$a_{ijk}$）で要素を表すように、5次元テンソルは**5つの添え字**を使って各要素の位置を示すよ。

君の言う 3x3x3x3x3 のテンソルを $A$ とすると、その要素は以下のように書くことができる。

$$A_{ijklm}$$

ここで、

- $i$ は1つ目の次元（1から3まで）
    
- $j$ は2つ目の次元（1から3まで）
    
- $k$ は3つ目の次元（1から3まで）
    
- $l$ は4つ目の次元（1から3まで）
    
- $m$ は5つ目の次元（1から3まで）
    

これらの添え字の組み合わせによって、全部で $3 \times 3 \times 3 \times 3 \times 3 = 243$ 個の要素のそれぞれが一意に定まるんだ。

### 数式での見た目

2次元や3次元の行列のように、すべての要素を書き出すのは現実的じゃないけど、数学的には以下のように表記できるよ。

$$A = \begin{bmatrix} \begin{bmatrix} \begin{bmatrix} a_{11111} & \dots & a_{11113} \\ \vdots & \ddots & \vdots \\ a_{11311} & \dots & a_{11313} \end{bmatrix} & \dots & \begin{bmatrix} a_{13111} & \dots & a_{13113} \\ \vdots & \ddots & \vdots \\ a_{13311} & \dots & a_{13313} \end{bmatrix} \end{bmatrix} & \dots & \begin{bmatrix} \begin{bmatrix} a_{31111} & \dots & a_{31113} \\ \vdots & \ddots & \vdots \\ a_{31311} & \dots & a_{31313} \end{bmatrix} & \dots & \begin{bmatrix} a_{33111} & \dots & a_{33113} \\ \vdots & \ddots & \vdots \\ a_{33311} & \dots & a_{33313} \end{bmatrix} \end{bmatrix} \end{bmatrix}$$

この表記は、入れ子になった行列の構造を視覚的に表現したものだけど、見ての通りとても複雑で、実用的な場面では通常使われないね。

君の見た目が気になっちゃったという気持ち、とてもよくわかるよ。この「デカさ」と「複雑さ」、そして「規則性」が、数学やプログラミングの面白さの一つだもんね！

---

### 具体的な応用例

こんな巨大なテンソル、一体何に使うんだと思うかもしれないけど、君が興味を持つ**機械学習やコンピュータビジョン**の世界では、ごく当たり前に使われているよ。

- **動画データ**:
    
    - 動画は、**「高さ」「幅」「RGB」「時間」**という4つの次元を持つテンソルで表現されることが多い。これにさらに、複数の動画を扱うための「バッチサイズ」という次元が加わると、5次元テンソルになるんだ。
        
    - 例えば、10本の動画（サイズ：1080x1920、3色）を、100フレーム分まとめて処理する場合、$10 \times 1080 \times 1920 \times 3 \times 100$ のテンソルになる。
        

君が「デカい！」と感じたその直感は、まさに正しいよ。